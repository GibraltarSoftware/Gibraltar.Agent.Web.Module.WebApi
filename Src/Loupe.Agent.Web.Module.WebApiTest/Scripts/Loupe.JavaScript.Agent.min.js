(function(n){function y(){(r&&localStorage.length||f.length)&&setTimeout(tt,10)}function st(n){b=n}function ht(n){k=n}function ct(n){n&&(v=it(n))}function lt(n){n&&n.name&&n.value&&(l=n)}function h(n){var t=Array.prototype.slice,i=t.call(arguments,1);return function(){return n.apply(this,i.concat(t.call(arguments,0)))}}function p(n){return typeof n=="undefined"?null:n}function at(n){return new loupe.MethodSourceInfo(n.file||null,n.method||null,n.line||null,n.column||null)}function o(n,t,i,r,u,f,e,o){f=p(f);e=p(e);o=p(o);!o||o instanceof loupe.MethodSourceInfo||(o=at(o));g(n,t,i,r,u,f,e,o);y()}function vt(){try{a=new di}catch(n){t("Unable to get platform info: "+n.message);a={}}try{c=new ki}catch(n){t("Unable to set up stack trace capture functionality: "+n.message);c=null}}function yt(n){if(typeof n.onerror=="undefined"){t("Gibraltar Loupe JavaScript Logger: No onerror event; errors cannot be logged to Loupe");return}n.onerror=function(n,t,i,r,u){return w&&w.apply(this,arguments),setTimeout(ni,10,n,t,i,r,u),!loupe.propagateOnError}}function pt(){var t=a;return t.size={width:n.innerWidth||document.body.clientWidth,height:n.innerHeight||document.body.clientHeight},t}function wt(n,t){return typeof n=="undefined"||n===null||!n.stack?bt(t):kt(n)}function bt(n){if(c)try{var t=c({e:n}).reverse();return dt(t)}catch(i){}return[]}function kt(n){return n.stack.substring(n.stack.length-1)==="\n"&&(n.stack=n.stack.substring(0,n.stack.length-1)),n.stack.split("\n")}function dt(n){if(n){var t=gt(n);t>0&&(n=n.slice(t))}return n}function gt(n){var i=["logError","getStackTrace","createStackFromMessage","createStackTrace"],t=0;for(n[0].indexOf("Cannot access caller")>-1&&t++;t<i.length;t++){if(n.length<t)break;if(n[t].indexOf(i[t])===-1)break}return t}function ni(n,t,i,r,u){var f="",e;return u&&(f=u.name||"Exception"),e={message:n,url:t,stackTrace:wt(u,n),cause:f,line:i,column:r},g(loupe.logMessageSeverity.error,"JavaScript",f,"",null,e,null,null),tt()}function ti(){var n="_loupe_storage_test_";try{return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch(t){return!1}}function ii(){return{headerName:"loupe-agent-sessionId",headerValue:u}}function ri(){var n=fi();n?u=n:(u=nt(),ui(u))}function ui(n){if(r)try{sessionStorage.setItem("LoupeAgentSessionId",n)}catch(i){t("Unable to store clientSessionId in session storage. "+i.message)}}function fi(){try{var n=sessionStorage.getItem("LoupeAgentSessionId");if(n)return n}catch(i){t("Unable to retrieve clientSessionId number from session storage. "+i.message)}return null}function ei(){var n=d();i=n===-1&&r?0:n}function oi(){var n;return r&&(n=d(),n<i&&(n=i),n!=-1&&(n++,si(n)))?i=n:(i++,i)}function d(){if(r)try{var n=sessionStorage.getItem("LoupeSequenceNumber");return n?parseInt(n):0}catch(i){t("Unable to retrieve sequence number from session storage. "+i.message)}return-1}function si(n){try{return sessionStorage.setItem("LoupeSequenceNumber",n),!0}catch(i){return t("Unable to store sequence number: "+i.message),!1}}function g(n,t,i,r,f,e,o,s){var c=oi(),l=li(),h;e&&(e=ci(e));h={severity:n,category:t,caption:i,description:r,parameters:f,details:o,exception:e,methodSourceInfo:s,timeStamp:l,sequence:c,agentSessionId:u,sessionId:b};hi(h)}function hi(n){if(r)try{localStorage.setItem("Loupe-message-"+nt(),JSON.stringify(n))}catch(i){t("Error occurred trying to add item to localStorageL "+i.message);f.push(n)}else f.push(n)}function ci(t,i){return typeof t=="string"?{message:t,url:n.location.href,stackTrace:[],cause:i||"",line:null,column:null}:"url"in t?t:{message:t.message,url:n.location.href,stackTrace:t.stackTrace,cause:i||"",line:t.lineNumber||null,column:t.columnNumber||null}}function li(){var n=new Date,i=-n.getTimezoneOffset(),r=i>=0?"+":"-",t=function(n){var t=Math.abs(Math.floor(n));return(t<10?"0":"")+t};return n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+"."+t(n.getMilliseconds())+r+t(i/60)+":"+t(i%60)}function nt(){var n=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&3|8).toString(16)})}function ai(){var e=[],u=[],o=!1,n=[],t,i;if(f.length&&(n=f.slice(),f.length=0),r)for(t=0;t<localStorage.length;t++)localStorage.key(t).indexOf("Loupe-message-")>-1&&s.indexOf(localStorage.key(t))===-1&&n.push({key:localStorage.key(t),message:JSON.parse(localStorage.getItem(localStorage.key(t)))});for(n.length&&n.length>1&&n.sort(function(n,t){return n.message.sequence-t.message.sequence}),n.length>10&&(o=!0,n=n.splice(0,10)),i=0;i<n.length;i++)e.push(n[i].message),u.push(n[i].key);return Array.prototype.push.apply(s,u),[e,u,o]}function vi(n){if(s.length){var t=s.indexOf(n[0]);s.splice(t,n.length)}}function yi(n){for(var i=0;i<n.length;i++)try{localStorage.removeItem(n[i])}catch(r){t("Unable to remove message from localStorage: "+r.message)}}function tt(){var n=ai(),t=n[0],r=n[1],f=n[2],i;t.length&&(i={session:{client:pt(),currentAgentSessionId:u},logMessages:t},pi(i,r));f===!0&&y()}function pi(i,r){try{var f=wi(),u=bi(f);if(!u)return t("Loupe JavaScript Logger: No XMLHttpRequest; error cannot be logged to Loupe"),!1;t(i);u.onreadystatechange=function(){u.readyState===4&&((u.status<200||u.status>206)&&(vi(r),t("Loupe JavaScript Logger: Failed to log to "+n.location.origin+"/loupe/log"),t("  Status: "+u.status+": "+u.statusText)),u.status>=200&&u.status<=204&&r.length&&yi(r))};u.send(JSON.stringify(i))}catch(e){return t("Loupe JavaScript Logger: Exception while attempting to log"),!1}}function wi(){var t=k||n.location.origin;return t=it(t),v&&(t=t+"/"+v),t+"/loupe/log"}function it(n){return n.replace(/\/$/,"")}function bi(n){if(typeof XMLHttpRequest=="undefined")return null;var t=new XMLHttpRequest;return"withCredentials"in t?(t.open("POST",n,!0),t.setRequestHeader("Content-type","application/json"),l&&t.setRequestHeader(l.name,l.value)):typeof XDomainRequest!="undefined"?(t=new XDomainRequest,t.contentType="application/json",t.open("POST",n)):t=null,t}function t(t){var i=n.console;i&&typeof i.log=="function"&&i.log(t)}function ki(){function t(n){n=n||{guess:!0};var u=n.e||null,f=!!n.guess,i=new t.implementation,r=i.run(u);return f?i.guessAnonymousFunctions(r):r}return t.implementation=function(){},t.implementation.prototype={run:function(n,t){return n=n||this.createException(),t=t||this.mode(n),t==="other"?this.other(arguments.callee):this[t](n)},createException:function(){try{this.undef()}catch(n){return n}},mode:function(n){return n.arguments&&n.stack?"chrome":n.stack&&n.sourceURL?"safari":n.stack&&n.number?"ie":n.stack&&n.fileName?"firefox":n.message&&n["opera#sourceloc"]?n.stacktrace?n.message.indexOf("\n")>-1&&n.message.split("\n").length>n.stacktrace.split("\n").length?"opera9":"opera10a":"opera9":n.message&&n.stack&&n.stacktrace?n.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":n.stack&&!n.fileName?"chrome":"other"},instrumentFunction:function(i,r,u){i=i||n;var f=i[r];i[r]=function(){return u.call(this,t().slice(4)),i[r]._instrumented.apply(this,arguments)};i[r]._instrumented=f},deinstrumentFunction:function(n,t){n[t].constructor===Function&&n[t]._instrumented&&n[t]._instrumented.constructor===Function&&(n[t]=n[t]._instrumented)},chrome:function(n){return(n.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(n){return n.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(n){return n.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(n){return n.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(n){for(var t,e,r,u=n.stacktrace.split("\n"),f=[],i=0,o=u.length;i<o;i+=2)t=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/.exec(u[i]),t&&(e=t[4]+":"+t[1]+":"+t[2],r=t[3]||"global code",r=r.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,"{anonymous}"),f.push(r+"@"+e+" -- "+u[i+1].replace(/^\s+/,"")));return f},opera10b:function(n){for(var t,f,r=n.stacktrace.split("\n"),u=[],i=0,e=r.length;i<e;i++)t=/^(.*)@(.+):(\d+)$/.exec(r[i]),t&&(f=t[1]?t[1]+"()":"global code",u.push(f+"@"+t[2]+":"+t[3]));return u},opera10a:function(n){for(var t,f,r=n.stacktrace.split("\n"),u=[],i=0,e=r.length;i<e;i+=2)t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i.exec(r[i]),t&&(f=t[3]||"{anonymous}",u.push(f+"()@"+t[2]+":"+t[1]+" -- "+r[i+1].replace(/^\s+/,"")));return u},opera9:function(n){for(var i,r=n.message.split("\n"),u=[],t=2,f=r.length;t<f;t+=2)i=/Line (\d+).*script (?:in )?(\S+)/i.exec(r[t]),i&&u.push("{anonymous}()@"+i[2]+":"+i[1]+" -- "+r[t+1].replace(/^\s+/,""));return u},other:function(n){for(var r="{anonymous}",t=[],u,i,e=Array.prototype.slice;n&&t.length<10;){u=/function(?:\s+([\w$]+))?\s*\(/.test(n.toString())?RegExp.$1||r:r;try{i=e.call(n.arguments||[])}catch(f){i=["Cannot access arguments: "+f]}t[t.length]=u+"("+this.stringifyArguments(i)+")";try{n=n.caller}catch(f){t[t.length]="Cannot access caller: "+f;break}}return t},stringifyArguments:function(n){for(var t,r=[],u=Array.prototype.slice,i=0;i<n.length;++i)t=n[i],t===undefined?r[i]="undefined":t===null?r[i]="null":t.constructor&&(r[i]=t.constructor===Array?t.length<3?"["+this.stringifyArguments(t)+"]":"["+this.stringifyArguments(u.call(t,0,1))+"..."+this.stringifyArguments(u.call(t,-1))+"]":t.constructor===Object?"#object":t.constructor===Function?"#function":t.constructor===String?'"'+t+'"':t.constructor===Number?t:"?");return r.join(",")},sourceCache:{},ajax:function(n){var t=this.createXMLHTTPObject();if(t)try{return t.open("GET",n,!1),t.send(null),t.responseText}catch(i){}return""},createXMLHTTPObject:function(){for(var i,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<t.length;n++)try{return i=t[n](),this.createXMLHTTPObject=t[n],i}catch(r){}},isSameDomain:function(n){return typeof location!="undefined"&&n.indexOf(location.hostname)!==-1},getSource:function(n){return n in this.sourceCache||(this.sourceCache[n]=this.ajax(n).split("\n")),this.sourceCache[n]},guessAnonymousFunctions:function(n){for(var i,o,t=0;t<n.length;++t){var u=n[t],f=/\{anonymous\}\(.*\)@(.*)/.exec(u);if(f&&(i=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/.exec(f[1]),i)){var r=i[1],e=i[2],s=i[3]||0;r&&this.isSameDomain(r)&&e&&(o=this.guessAnonymousFunction(r,e,s),n[t]=u.replace("{anonymous}",o))}}return n},guessAnonymousFunction:function(n,t){var i;try{i=this.findFunctionName(this.getSource(n),t)}catch(r){i="getSource failed with url: "+n+", exception: "+r.toString()}return i},findFunctionName:function(n,t){for(var u="",r,o=Math.min(t,20),i,f,e=0;e<o;++e)if(r=n[t-e-1],f=r.indexOf("//"),f>=0&&(r=r.substr(0,f)),r&&((u=r+u,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/.exec(u),i&&i[1])||(i=/function\s+([^(]*?)\s*\(([^)]*)\)/.exec(u),i&&i[1])||(i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/.exec(u),i&&i[1])))return i[1];return"(?)"}},t}function di(){"use strict";function l(n){return n=String(n),n.charAt(0).toUpperCase()+n.slice(1)}function k(n,t){var r=-1,i=n?n.length:0;if(typeof i=="number"&&i>-1&&i<=p)while(++r<i)t(n[r],r,n);else e(n,t)}function f(n){return n=v(n),/^(?:webOS|i(?:OS|P))/.test(n)?n:l(n)}function e(n,t){for(var i in n)b.call(n,i)&&t(n[i],i,n)}function t(n){return n==null?l(n):c.call(n).slice(8,-1)}function a(n,t){var i=n!=null?typeof n[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(i)&&(i=="object"?!!n[t]:!0)}function i(n){return String(n).replace(/([ -])(?!$)/g,"$1?")}function r(n,t){var i=null;return k(n,function(r,u){i=t(i,r,u,n)}),i}function v(n){return String(n).replace(/^ +| +$/g,"")}function o(n){function ui(t){return r(t,function(t,r){return t||RegExp("\\b"+(r.pattern||i(r))+"\\b","i").exec(n)&&(r.label||r)})}function fi(t){return r(t,function(t,r,u){return t||(r[k]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(k)]||RegExp("\\b"+i(u)+"(?:\\b|\\w*\\d)","i").exec(n))&&u})}function ei(t){return r(t,function(t,r){return t||RegExp("\\b"+(r.pattern||i(r))+"\\b","i").exec(n)&&(r.label||r)})}function oi(t){return r(t,function(t,r){var u=r.pattern||i(r);return!t&&(t=RegExp("\\b"+u+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(h={"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(t)&&(h=h[/[\d.]+$/.exec(t)])&&(t="Windows "+h,vt=h=="Server 2008 R2 / 7"),t=f(String(t).replace(RegExp(u,"i"),r.label||r).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").replace(/(Windows Phone)(?! OS)/,"$1 OS").split(" on ")[0])),t})}function pt(t){return r(t,function(t,r){var u=r.pattern||i(r);return!t&&(t=RegExp("\\b"+u+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+u+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((t=String(r.label&&!RegExp(u,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=f(t[0].replace(RegExp(u,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function si(t){return r(t,function(t,i){return t||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})}function hi(){return this.description||""}var nt=s,rt=n&&typeof n=="object"&&t(n)!="String",et,lt,tt;rt&&(nt=n,n=null);et=nt.navigator||{};lt=et.userAgent||"";n||(n=lt);var wt=rt||w==y,bt=rt?!!et.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(c.toString()),at="Object",kt=rt?at:"ScriptBridgingProxyObject",dt=rt?at:"Environment",gt=rt&&nt.java?"JavaPackage":t(nt.java),ni=rt?at:"RuntimeObject",ot=/Java/.test(gt)&&nt.java,ti=ot&&t(nt.environment)==dt,ii=ot?"a":"α",ri=ot?"b":"β",yt=nt.document||{},ut=nt.operamini||nt.opera,st=u.test(st=rt&&ut?ut["[[Class]]"]:t(ut))?st:ut=null,h,ht=n,g=[],ct=null,ft=n==lt,b=ft&&ut&&typeof ut.version=="function"&&ut.version(),vt,d=ui([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),l=ei(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),k=pt([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),it=fi({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),p=oi(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(d&&(d=[d]),it&&!k&&(k=pt([it])),(h=/Google TV/.exec(k))&&(k=h[0]),/\bSimulator\b/i.test(n)&&(k=(k?k+" ":"")+"Simulator"),/^iP/.test(k)?(l||(l="Safari"),p="iOS"+((h=/ OS ([\d_]+)/i.exec(n))?" "+h[1].replace(/_/g,"."):"")):l!="Konqueror"||/buntu/i.test(p)?it&&it!="Google"&&(/Chrome/.test(l)&&!/Mobile Safari/.test(n)||/Vita/.test(k))?(l="Android Browser",p=/Android/.test(p)?p:"Android"):(!l||(h=!/\bMinefield\b|\(Android;/i.test(n)&&/Firefox|Safari/.exec(l)))&&(l&&!k&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(h+"/")+8))&&(l=null),(h=k||it||p)&&(k||it||/Android|Symbian OS|Tablet OS|webOS/.test(p))&&(l=/[a-z]+(?: Hat)?/i.exec(/Android/.test(p)?p:h)+" Browser")):p="Kubuntu",(h=/\((Mobile|Tablet).*?Firefox/i.exec(n))&&h[1]&&(p="Firefox OS",k||(k=h[1])),b||(b=si(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",i(l),"(?:Firefox|Minefield|NetFront)"])),d=="iCab"&&parseFloat(b)>3?d=["WebKit"]:(h=/Opera/.test(l)&&(/OPR/.test(n)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&"WebKit"||!d&&/\bMSIE\b/i.test(n)&&(p=="Mac OS"?"Tasman":"Trident"))?d=[h]:/PlayStation(?! Vita)/i.test(l)&&d=="WebKit"&&(d=["NetFront"]),l!="IE"&&d=="Trident"&&(h=/\brv:([\d.]+)/.exec(n))&&(l&&g.push("identifying as "+l+(b?" "+b:"")),l="IE",b=h[1]),ft){if(a(nt,"global"))if(ot&&(h=ot.lang.System,ht=h.getProperty("os.arch"),p=p||h.getProperty("os.name")+" "+h.getProperty("os.version")),wt&&a(nt,"system")&&(h=[nt.system])[0]){p||(p=h[0].os||null);try{h[1]=nt.require("ringo/engine").version;b=h[1].join(".");l="RingoJS"}catch(ci){h[0].global.system==nt.system&&(l="Narwhal")}}else typeof nt.process=="object"&&(h=nt.process)?(l="Node.js",ht=h.arch,p=h.platform,b=/[\d.]+/.exec(h.version)[0]):ti&&(l="Rhino");else t(h=nt.runtime)==kt?(l="Adobe AIR",p=h.flash.system.Capabilities.os):t(h=nt.phantom)==ni?(l="PhantomJS",b=(h=h.version||null)&&h.major+"."+h.minor+"."+h.patch):typeof yt.documentMode=="number"&&(h=/\bTrident\/(\d+)/i.exec(n))&&(b=[b,yt.documentMode],(h=+h[1]+4)!=b[1]&&(g.push("IE "+b[1]+" mode"),d&&(d[1]=""),b[1]=h),b=l=="IE"?String(b[1].toFixed(1)):b[0]);p=p&&f(p)}return b&&(h=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(b)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(ft&&et.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(ct=/b/i.test(h)?"beta":"alpha",b=b.replace(RegExp(h+"\\+?$"),"")+(ct=="beta"?ri:ii)+(/\d+\+?/.exec(h)||"")),l=="Fennec"||l=="Firefox"&&/Android|Firefox OS/.test(p)?l="Firefox Mobile":l=="Maxthon"&&b?b=b.replace(/\.[\d.]+/,".x"):l=="Silk"?(/Mobi/i.test(n)||(p="Android",g.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&g.unshift("accelerated")):l=="IE"&&(h=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(l+=" Mobile",p="Windows Phone OS "+h+".x",g.unshift("desktop mode")):/Xbox/i.test(k)?(p=null,k=="Xbox 360"&&/IEMobile/.test(n)&&g.unshift("mobile mode")):(l=="Chrome"||l=="IE"||l&&!k&&!/Browser|Mobi/.test(l))&&(p=="Windows CE"||/Mobi/i.test(n))?l+=" Mobile":l=="IE"&&ft&&nt.external===null?g.unshift("platform preview"):(/BlackBerry/.test(k)||/BB10/.test(n))&&(h=(RegExp(k.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||b)?(h=[h,/BB10/.test(n)],p=(h[1]?(k=null,it="BlackBerry"):"Device Software")+" "+h[0],b=null):this!=e&&k!="Wii"&&(ft&&ut||/Opera/.test(l)&&/\b(?:MSIE|Firefox)\b/i.test(n)||l=="Firefox"&&/OS X (?:\d+\.){2,}/.test(p)||l=="IE"&&(p&&!/^Win/.test(p)&&b>5.5||/Windows XP/.test(p)&&b>8||b==8&&!/Trident/.test(n)))&&!u.test(h=o.call(e,n.replace(u,"")+";"))&&h.name&&(h="ing as "+h.name+((h=h.version)?" "+h:""),u.test(l)?(/IE/.test(h)&&p=="Mac OS"&&(p=null),h="identify"+h):(h="mask"+h,l=st?f(st.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(h)&&(p=null),ft||(b=null)),d=["Presto"],g.push(h)),(h=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(h=[parseFloat(h.replace(/\.(\d)$/,".0$1")),h],l=="Safari"&&h[1].slice(-1)=="+"?(l="WebKit Nightly",ct="alpha",b=h[1].slice(0,-1)):(b==h[1]||b==(h[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1]))&&(b=null),h[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],h[0]==537.36&&h[2]==537.36&&parseFloat(h[1])>=28&&(d=["Blink"]),ft&&(bt||h[1])?(d&&(d[1]="like Chrome"),h=h[1]||(h=h[0],h<530?1:h<532?2:h<532.05?3:h<533?4:h<534.03?5:h<534.07?6:h<534.1?7:h<534.13?8:h<534.16?9:h<534.24?10:h<534.3?11:h<535.01?12:h<535.02?"13+":h<535.07?15:h<535.11?16:h<535.19?17:h<536.05?18:h<536.1?19:h<537.01?20:h<537.11?"21+":h<537.13?23:h<537.18?24:h<537.24?25:h<537.36?26:d!="Blink"?"27":"28")):(d&&(d[1]="like Safari"),h=(h=h[0],h<400?1:h<500?2:h<526?3:h<533?4:h<534?"4+":h<535?5:h<537?6:h<538?7:"7")),d&&(d[1]+=" "+(h+=typeof h=="number"?".x":/[.+]/.test(h)?"":"+")),l=="Safari"&&(!b||parseInt(b)>45)&&(b=h)),l=="Opera"&&(h=/(?:zbov|zvav)$/.exec(p))?(l+=" ",g.unshift("desktop mode"),h=="zvav"?(l+="Mini",b=null):l+="Mobile"):l=="Safari"&&/Chrome/.exec(d&&d[1])&&(g.unshift("desktop mode"),l="Chrome Mobile",b=null,/OS X/.test(p)?(it="Apple",p="iOS 4.3+"):p=null),b&&b.indexOf(h=/[\d.]+$/.exec(p))==0&&n.indexOf("/"+h+"-")>-1&&(p=v(p.replace(h,""))),d&&!/Avant|Nook/.test(l)&&(/Browser|Lunascape|Maxthon/.test(l)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(l)&&d[1])&&(h=d[d.length-1])&&g.push(h),g.length&&(g=["("+g.join("; ")+")"]),it&&k&&k.indexOf(it)<0&&g.push("on "+it),k&&g.push((/^on /.test(g[g.length-1])?"":"on ")+k),p&&(h=/ ([\d.+]+)$/.exec(p),p={architecture:32,family:h&&!vt?p.replace(h[0],""):p,version:h?h[1]:null,toString:function(){var n=this.version;return this.family+(n&&!vt?" "+n:"")+(this.architecture==64?" 64-bit":"")}}),(h=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(ht))&&!/\bi686\b/i.test(ht)&&(p&&(p.architecture=64,p.family=p.family.replace(RegExp(" *"+h),"")),l&&(/WOW64/i.test(n)||ft&&/\w(?:86|32)$/.test(et.cpuClass||et.platform))&&g.unshift("32-bit")),n||(n=null),tt={},tt.description=n,tt.layout=d&&d[0],tt.manufacturer=it,tt.name=l,tt.prerelease=ct,tt.product=k,tt.ua=n,tt.version=l&&b,tt.os=p||{architecture:null,family:null,version:null,toString:function(){return"null"}},tt.parse=o,tt.toString=hi,tt.version&&g.unshift(b),tt.name&&g.unshift(l),!p||!l||p==String(p).split(" ")[0]&&(p==l.split(" ")[0]||k)||g.push(k?"("+p+")":"on "+p),g.length&&(tt.description=g.join(" ")),tt}var s={"function":!0,object:!0}[typeof n]&&n||this,y=s,p=Math.pow(2,53)-1,u=/Opera/,w=this,h=Object.prototype,b=h.hasOwnProperty,c=h.toString;return o()}var w=n.onerror,c,a,i=0,b,u,f=[],r=ti(),k=null,s=[],v,l,e={none:0,critical:1,error:2,warning:4,information:8,verbose:16};vt();yt(n);ri();ei();y();var rt=h(o,e.verbose),ut=h(o,e.information),ft=h(o,e.warning),et=h(o,e.error),ot=h(o,e.critical);n.loupe={verbose:rt,information:ut,warning:ft,error:et,critical:ot,write:o,setSessionId:st,propagateOnError:!1,logMessageSeverity:e,clientSessionHeader:ii,corsOrigin:ht,urlPrefix:ct,setAuthorisationHeader:lt};n.loupe.MethodSourceInfo=function(n,t,i,r){this.file=n||null;this.method=t||null;this.line=i||null;this.column=r||null}})(window);
//# sourceMappingURL=Loupe.JavaScript.Agent.min.js.map
